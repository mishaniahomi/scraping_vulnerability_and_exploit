import requests
from bs4 import BeautifulSoup
from proxy_auth_data import login, password
from translate import Translator


# proxy = {
#         "http": f"http://{login}:{password}@10.0.0.1:3128",
#         "https": f"http://{login}:{password}@10.0.0.1:3128"
#     }





def get_more_data(url: str) -> dict:
    vuln_dict = {}
    response = requests.get(url)
    soup = BeautifulSoup(response.text, 'lxml')
    quotes = soup.find_all('div', class_='table-col')
    for i in quotes:
        somedata = list(filter(None, i.text.splitlines()))
        vuln_dict[somedata[0]] = somedata[1]
    description = soup.find('div', class_='vulndb__detail-content bottom-border')
    description = list(filter(None, description.text.splitlines()))
    vuln_dict[description[0]] = description[1]
    solutions = soup.find('section', class_='vulndb__references bottom-border')
    solutions = list(filter(None, solutions.text.splitlines()))
    vuln_dict[solutions[0]] = solutions[1]
    references = soup.find('section', class_='vulndb__related')
    references = list(filter(None, references.text.splitlines()))
    vuln_dict[references[0]] = references[1::]
    return vuln_dict


get_more_data("https://www.rapid7.com/db/vulnerabilities/ubuntu-USN-1040-1/")
